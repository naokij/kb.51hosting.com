<!-- --- tag:  云主机 vps shutdown  -->


<!-- --- title: 如何利用Shutdown命令定时关机？ -->
#如何利用Shutdown命令定时关机？



**Shutdown命令定时关机详解**

**Linux系统下的shutdown命令用于安全的关闭/重启计算机，它不仅可以方便的实现定时关机，还可以由用户决定关机时的相关参数。在执行shutdown命令时，系统会给每个终端（用户）发送一条屏显，提示关机操作。定时关机只需要一个简单的参数，既可以是倒计时，也可以是确切的时间。<br>
命令格式**<br>

shutdown [选项] [时间] [消息]<br>
并有如下选项：<br>
- k 不执行任何关机操作，只发出警告信息给所有用户<br>
- r 重新启动计算机<br>
- h 关机并彻底断电<br>
- f 快速关机且重启动时跳过fsck<br>
- n 快速关机不经过init程序<br>
- c 取消之前的定时关机<br>
 
**真实应用示例**<br>
**立即关机**<br>
shutdown -h now<br>
**立即重启**<br>
shutdown -r now<br>
**注意，此处的now不能省略，算是特殊用法。<br>
定时关机<br>
如果准备定时5分钟关机后还有其他命令要执行，或者希望将定时关机的命令放在后台，则：**<br>
shutdown -h +5 &<br>
**然后按几次回车，即可继续使用终端执行其它操作了。如果希望终止上面执行的5分钟关机，则执行：**<br>
shutdown -c<br>
**即可。<br>
如果仅仅定时5分钟关机，且没有其它命令执行，则直接：**<br>
shutdown -h +5<br>
**此时，如果希望取消定时关机，则直接按Ctrl+C强制终止命令即可。<br>
希望在20:13关闭计算机**：<br>
shutdown -h 20:13<br>
 
**注意：仅具有超级管理权限的用户能够使用该命令，普通用户没有权限执行该命令。如果普通用户执行该命令，可能会提示**<br>

bash: shutdown : command not found .<br>
出现这种情况的原因是普通用户的环境变量问题导致无法正常找到shutdown程序。如果使用“su”命令，则需注意把Env环境变量也切换至<br>root账户，否则可能依然会出问题。<br>