<!-- --- tag:  云主机 linux 进阶  -->


<!-- --- title: 如何在linux的vps上调整进程的优先级？ -->
#如何在linux的vps上调整进程的优先级？


VPS普遍性能不高，很多人可能有这样一个感受，在执行du、tar等命令时，会造成系统负载飙升，Apache响应缓慢。<br>
这时nice命令改变进程优先级可能能缓解这种状况。nice命令用于调整Linux系统中进程的优先级。<br>
通俗地讲，Linux系统中，进程有-19到19这39个优先级。-19最优先，19最不优先。进程的默认优先级为0。如果希望将进程调整为最优先，<br>则将进程的nice值设置为-19；如果希望进程最不优先，占用最少的系统CPU时间，则将其设置为19。<br>
 
**新建一个进程并设置优先级**<br>
**将当前目录下的documents目录打包，但不希望tar占用太多CPU：**<br>

[root@niko ~]# nice -19 tar zcf pack.tar.gz documents<br>

**方法非常简单，即在原命令前加上“nice -19”。很多人可能有疑问了，最低优先级不是19么？那是因为这个“-19”中的“-”仅表示参数前;所以，如果希望：**<br>
**将当前目录下的documents目录打包，并且赋予tar进程最高的优先级**：<br>

[root@niko ~]# nice --19 tar zcf pack.tar.gz documents<br>
 
**修改已经存在的进程的优先级<br>
将PID为1799的进程优先级设置为最低（19）**：<br>

[root@niko ~]# renice 19 1799<br>

**将PID为1799的进程优先级设置为最高（-19）**：<br>

[root@niko ~]# renice -19 1799<br>

**大家很可能发现了renice命令与nice命令的优先级参数的形式是相反的。直接以优先级作为参数即可，不能加上“-”号，这点需要注意<br>
查看进程优先级<br>
直接使用top命令即可查看进程优先级。<br>
Linux对于进程优先级调整的作用还是非常明显的，在实际操作中也能明显的体会到。**